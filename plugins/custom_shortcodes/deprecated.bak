
/* =================================================================*/
/* =                   Toggle notifications icon   
/* =================================================================*/

function toggle_notifications_icon() {
	if ( is_user_logged_in() ) {
		$user_id = bp_loggedin_user_id(); 
		$count = bp_notifications_get_unread_notification_count( $user_id );
		if ($count=="0"||$count=="") {
			$count=NULL;
		}
		else {
			$count = '<span class="bp_counter" id="notifications">' . $count . '</span>';
		}
		/* IMPORTANT : always start the <a class with the police type (fa, dashicons...) since it's used by the css */
		$html='<a class="fa-notifications toggle-menu" href="' . bp_core_get_user_domain( $user_id) . '/notifications/">' . $count . '</a>';
	}
	return $html;
}
//add_shortcode('toggle-notifications-icon', 'toggle_notifications_icon');


/* =================================================================*/
/* =                   Toggle friendships icon   
/* =================================================================*/

function toggle_friendships_icon() {
	if ( is_user_logged_in() ) {
		$user_id = bp_loggedin_user_id(); 
		$count = bp_friend_get_total_requests_count( $user_id );
		if ($count=="0"||$count=="") {
			$count=NULL;
		}
		else {
			$count = '<span class="bp_counter" id="friendships">' . $count . '</span>';
		}
		/* IMPORTANT : always start the <a class with the police type (fa, dashicons...) since it's used by the css */
		$html='<a class="fa-friendships toggle-menu" href="' . bp_core_get_user_domain( $user_id ) . '/friends/requests/">' . $count . '</a>';
		/* Variant : only display latest friendship requests */
		//$html='<a class="fa-friendships toggle-menu" href="' . bp_core_get_user_domain( $user_id ) . '/friends/requests/?new">' . $count . '</a>';
	}
	return $html;
}
//add_shortcode('toggle-friendships-icon', 'toggle_friendships_icon');
