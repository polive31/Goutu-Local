jQuery(document).ready((function(){jQuery(document).on("click",".wpurp-recipe-add-to-shopping-list.logged-in",(function(e){e.preventDefault(),e.stopPropagation();var button=jQuery(this),tooltip=button.parent().find("div.toggle");if(console.log("Tooltip",tooltip),!button.hasClass("in-shopping-list")){button.addClass("in-shopping-list"),tooltip.toggle();var recipeId=button.data("recipe-id");console.log("Recipe ID :"+recipeId);var recipe=button.parents(".wpurp-container"),servings=0,servings_input=recipe.find("input.adjust-recipe-servings");console.log("Servings input : %O",servings_input),0==servings_input.length&&(servings_input=recipe.find("input.advanced-adjust-recipe-servings")),0!=servings_input.length&&(servings=parseInt(servings_input.val()));var data={action:"add_to_shopping_list",security:wpurp_add_to_shopping_list.nonce,recipe_id:recipeId,servings_wanted:servings};jQuery.post(wpurp_add_to_shopping_list.ajaxurl,data,(function(html){console.log("Add to Shopping List AJAX call completed")}))}}))}));