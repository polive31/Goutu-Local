function csrValidateEmail($email){var emailReg;return/^([\w-\.]+@([\w-]+\.)+[\w-]{2,6})?$/.test($email)}jQuery(document).ready((function(){console.log("%c In ccm-helpers.js","background:#D75AA8; color:white"),jQuery(".content .comment-form .comment-form-author").hide(),jQuery(".content .comment-form .comment-form-email").hide(),jQuery(".content .comment-form .recaptcha-container").hide(),jQuery(".content").on("click",".comment-form textarea",(function(e){console.log("%c Click on comment form textarea, unfolding","background:#D75AA8; color:white"),jQuery(".content .comment-form .comment-form-author").show(),jQuery(".content .comment-form .comment-form-email").show(),jQuery(".content .comment-form .recaptcha-container").show()})),jQuery(document).on("click",".comment-reply a",(function(e){console.log("%c Click on comment reply","background:#D75AA8; color:white");var replyTo=jQuery(this).data("replyto"),$replyTitle=jQuery("#reply-title"),initialTitle=$replyTitle.contents().first().text(),$cancelLink=jQuery("#cancel-comment-reply-link");$replyTitle.contents().first().replaceWith(replyTo),$cancelLink.attr("data-title",initialTitle)})),jQuery(document).on("click","#cancel-comment-reply-link",(function(e){console.log("%c Click on reply cancel","background:#D75AA8; color:white");var initialTitle=jQuery(this).data("title"),$replyTitle;jQuery("#reply-title").contents().first().replaceWith(initialTitle)})),jQuery(document).on("click","form.comment-form .submit, form.rating-form .submit",(function(e){e.preventDefault(),console.log("%c Click on comment form submit","background:#D75AA8; color:white");var $commentForm=jQuery(this).closest("form"),$commentText=$commentForm.find("textarea"),$commentAuthor=$commentForm.find("input.author"),$commentEmail=$commentForm.find("input.email"),$recaptcha=$commentForm.find(".recaptcha-container"),currentInstance=jQuery(this).data("instance");if(console.log("%c * Comment form is ","background:#D75AA8; color:white",$commentForm),console.log("%c * Recaptcha is ","background:#D75AA8; color:white",$recaptcha),console.log("%c * Form instance is ","background:#D75AA8; color:white",currentInstance),console.log("%c * Comment text val is ","background:#D75AA8; color:white",$commentText),console.log("%c * Author name val is ","background:#D75AA8; color:white",$commentAuthor),console.log("%c * Email address val is ","background:#D75AA8; color:white",$commentEmail),$commentText.val().length)if(!$commentAuthor.length||$commentAuthor.val().length)if(!$commentEmail.length||$commentEmail.val().length&&csrValidateEmail($commentEmail.val())){if($recaptcha.length){if($recaptcha.hasClass("math")&&!$commentForm.find("#captcha_math_answer").val().length)return void alert(csr.emptyRecaptcha);if($recaptcha.hasClass("google")){var instance=$recaptcha.data("instance"),response=grecaptcha.getResponse(instance);if(console.log("%c Google recaptcha found, value is ","background:#D75AA8; color:white",response),0==response.length)return void alert(csr.emptyRecaptcha)}}console.log("%c All preconditions are met, submit the form","background:#D75AA8; color:white"),$commentForm.submit()}else alert(csr.invalidEmail);else alert(csr.emptyAuthor);else alert(csr.emptyComment)}))}));